<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>AI绘画学习笔记</title>
      <link href="/2024/05/25/AI%E7%BB%98%E7%94%BB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/AI%E7%BB%98%E7%94%BB/"/>
      <url>/2024/05/25/AI%E7%BB%98%E7%94%BB%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/AI%E7%BB%98%E7%94%BB/</url>
      
        <content type="html"><![CDATA[<h1 id="AI绘画"><a href="#AI绘画" class="headerlink" title="AI绘画"></a>AI绘画</h1><h2 id="1-3种拓展安装方式"><a href="#1-3种拓展安装方式" class="headerlink" title="1. 3种拓展安装方式"></a><strong>1. 3种拓展安装方式</strong></h2><h3 id="（1）WebUI-可下载"><a href="#（1）WebUI-可下载" class="headerlink" title="（1）WebUI -   可下载"></a><strong>（1）WebUI -   可下载</strong></h3><p>内置列表查询安装。</p><p>所有被制作出来的插件会由WebUI的作者（该WebUI作者是<strong>秋葉aaak</strong>）登记到一个小本本上（就是图中的URL），点击<strong>加载</strong>，就会在下方加载出一系列详细的拓展应用清单。</p><p><img src="https://img2.imgtp.com/2024/05/25/BN84VJKO.png" alt="image-20240525144046698"></p><h3 id="（2）链接安装"><a href="#（2）链接安装" class="headerlink" title="（2）链接安装"></a><strong>（2）链接安装</strong></h3><p>这些扩展，在被制作出来以后，作者一般会经由GitHub、Gitee一类的代码仓库将它公开在网上。复制这些代码仓库的地址，并将它输入到第三个标签里的地址栏中，点击安装。</p><p><img src="https://img2.imgtp.com/2024/05/25/MYCwofMA.png" alt="image-20240525144915048"></p><h3 id="（3）手动copy打包好的文件"><a href="#（3）手动copy打包好的文件" class="headerlink" title="（3）手动copy打包好的文件"></a><strong>（3）手动copy打包好的文件</strong></h3><p>SD的所有扩展被统一安装在根目录下这个叫做extension的文件夹里，每一个拓展都是一个单独的文件夹。将打包好的文件copy进来，即可实现安装。</p><p><img src="https://img2.imgtp.com/2024/05/25/EHh1VZBS.png" alt="image-20240525145159984"></p><h3 id="（4）扩展管理"><a href="#（4）扩展管理" class="headerlink" title="（4）扩展管理"></a><strong>（4）扩展管理</strong></h3><p>在完成了一次安装以后，点击下方按钮<strong>应用更改并重启</strong>，即可使用所安装的拓展。</p><p>当有些插件不可用时，请点击下方按钮<strong>检查更新</strong>，更新到最新版本，可解决大部分问题。</p><p>取消打勾，即可取消使用该插件。</p><p><img src="https://img2.imgtp.com/2024/05/25/OVPL7WLM.png" alt="image-20240525145439036"></p><h2 id="2-提示词补全，反推"><a href="#2-提示词补全，反推" class="headerlink" title="2. 提示词补全，反推"></a><strong>2. 提示词补全，反推</strong></h2><p><img src="https://img2.imgtp.com/2024/05/25/CD4Bkb2g.png" alt="image-20240525150315410"></p><h2 id="3-LoRA"><a href="#3-LoRA" class="headerlink" title="3. LoRA"></a><strong>3. LoRA</strong></h2><h3 id="（1）概念"><a href="#（1）概念" class="headerlink" title="（1）概念"></a><strong>（1）概念</strong></h3><p><a href="https://www.bilibili.com/video/BV1nL411B7XT/?spm_id_from=333.788&vd_source=ad42e6d8ab10573114e971f336b7c5e9">视频教学：LoRA从原理到实践</a></p><p>LoRA文件后缀：safetensors</p><p><img src="https://img2.imgtp.com/2024/05/25/ixTp6zjg.png" alt="image-20240525154350840"></p><p>LoRA 的意义并不在于取代 Checkpoint ，相反，它是需要和一个大的 Chekpoint 一起搭配使用的，从而实现对这个 Checkpoint 在某些方面的“微调”。</p><h3 id="（2）安装"><a href="#（2）安装" class="headerlink" title="（2）安装"></a><strong>（2）安装</strong></h3><p><img src="https://img2.imgtp.com/2024/05/25/6PNHWUGo.png" alt="image-20240525154850036"></p><p>大模型1GB以上的放在</p><p><img src="https://img2.imgtp.com/2024/05/25/MpxiC1QD.png" alt="image-20240525165843231"></p><h3 id="（3）3种加载LoRA的方式（不推荐）"><a href="#（3）3种加载LoRA的方式（不推荐）" class="headerlink" title="（3）3种加载LoRA的方式（不推荐）"></a><strong>（3）3种加载LoRA的方式（不推荐）</strong></h3><p>a. 第一种</p><p><img src="https://img2.imgtp.com/2024/05/25/jRn2tW4Z.png" alt="image-20240525154950296"></p><p>b. 第二种</p><p><img src="https://img2.imgtp.com/2024/05/25/x467wKCy.png" alt="image-20240525155115148"></p><p>NO PREVTFW：代表模型默认没有缩略图，可以用这个模型跑一张你喜欢的图出来，在你跑完以后，单击打开，然后点击图片NO PREVTFW的替换预览图像，你就可以将它配置为这个模型的缩略图。</p><h3 id="（4）additional-networks-推荐"><a href="#（4）additional-networks-推荐" class="headerlink" title="（4）additional networks(推荐)"></a><strong>（4）additional networks(推荐)</strong></h3><h4 id="a-通过扩展插件读取LoRA目录"><a href="#a-通过扩展插件读取LoRA目录" class="headerlink" title="a. 通过扩展插件读取LoRA目录"></a><strong>a. 通过扩展插件读取LoRA目录</strong></h4><p>默认是在extensions文件夹内，这个扩展的文件夹里的Models文件夹里的lora文件夹</p><p>D:\Tool\sd-webui-aki-v4.8\sd-webui-aki-v4.8\extensions\sd-webui-additional-networks\models</p><p><img src="https://img2.imgtp.com/2024/05/25/SzxFUckD.png" alt="image-20240525161750091"></p><p>和WebUI默认的LoRA放置地址不太一样</p><p>可以在WebUI设置中，将WebUI默认存放路径 D:\Tool\sd-webui-aki-v4.8\sd-webui-aki-v4.8\models\Lora 复制到这里，并保存设置，刷新WebUI。</p><p><img src="https://img2.imgtp.com/2024/05/25/fXgeebJZ.png" alt="image-20240525162015664"></p><h3 id="（5）LoRA的使用"><a href="#（5）LoRA的使用" class="headerlink" title="（5）LoRA的使用"></a><strong>（5）LoRA的使用</strong></h3><p><img src="https://img2.imgtp.com/2024/05/25/eXCgBoOJ.png" alt="image-20240525162430009"></p><h4 id="a-反推关键词"><a href="#a-反推关键词" class="headerlink" title="a. 反推关键词"></a><strong>a. 反推关键词</strong></h4><p>将人物原有的形象，放入Tagger内反推关键词，反推可以有效识别出角色身上大部分的特征。</p><p><img src="https://img2.imgtp.com/2024/05/25/kh66y49z.png" alt="image-20240525163425961"></p><p>待续~</p><h2 id="4-ControlNet"><a href="#4-ControlNet" class="headerlink" title="4. ControlNet"></a><strong>4. ControlNet</strong></h2><h3 id="（1）类型"><a href="#（1）类型" class="headerlink" title="（1）类型"></a><strong>（1）类型</strong></h3><p><img src="https://img2.imgtp.com/2024/05/25/sDzFSsw2.png" alt="image-20240525140818142"></p><h3 id="（2）存放路径"><a href="#（2）存放路径" class="headerlink" title="（2）存放路径"></a><strong>（2）存放路径</strong></h3><p><img src="https://img2.imgtp.com/2024/05/25/6djAs5DX.png" alt="image-20240525140849222"></p><h3 id="（3）五种ControlNet模型"><a href="#（3）五种ControlNet模型" class="headerlink" title="（3）五种ControlNet模型"></a><strong>（3）五种ControlNet模型</strong></h3><h4 id="a-openpose"><a href="#a-openpose" class="headerlink" title="a. openpose"></a><strong>a. openpose</strong></h4><p>动作姿势</p><p><img src="https://img2.imgtp.com/2024/05/25/Njs42sKv.png" alt="image-20240525213244494"></p><h4 id="b-depth"><a href="#b-depth" class="headerlink" title="b. depth"></a><strong>b. depth</strong></h4><p>深度图</p><p><img src="https://img2.imgtp.com/2024/05/26/Zs3eOKGd.png" alt="image-20240526140756470"></p><h4 id="c-canny"><a href="#c-canny" class="headerlink" title="c. canny"></a><strong>c. canny</strong></h4><p>线稿</p><p><img src="https://img2.imgtp.com/2024/05/26/zf1hnaPF.png" alt="image-20240526140855020"></p><p>Invert(反转) 预处理器</p><p><img src="https://img2.imgtp.com/2024/05/26/fYEN90M9.png" alt="image-20240526141007584"></p><p>更高级的实现：Lineart</p><p><img src="https://img2.imgtp.com/2024/05/26/RDS9UiEP.png" alt="image-20240526141108316"></p><h4 id="d-soft-Endge"><a href="#d-soft-Endge" class="headerlink" title="d. soft Endge"></a><strong>d. soft Endge</strong></h4><p>柔和边缘</p><p>可以简单理解为 canny 的柔和版</p><p><img src="https://img2.imgtp.com/2024/05/26/9mhB3xTa.png" alt="image-20240526141157838"></p><h4 id="e-scribble"><a href="#e-scribble" class="headerlink" title="e. scribble"></a><strong>e. scribble</strong></h4><p>涂鸦乱画</p><p>比 soft Endge 更加奔放，更能发挥 AI 的创造力</p><p><img src="https://img2.imgtp.com/2024/05/26/nTY18Odj.png" alt="image-20240526141357155"></p><h3 id="（4）多重ControlNet"><a href="#（4）多重ControlNet" class="headerlink" title="（4）多重ControlNet"></a><strong>（4）多重ControlNet</strong></h3><p><img src="https://img2.imgtp.com/2024/05/26/9DU9sgOz.png" alt="image-20240526141656025"></p><h2 id="5-通用的反向提示词"><a href="#5-通用的反向提示词" class="headerlink" title="5. 通用的反向提示词"></a><strong>5. 通用的反向提示词</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSFW, (worst quality:2), (low quality:2), (normal quality:2), lowres, normal quality, ((monochrome)),((grayscale)), skin spots, acnes, skin blemishes, age spot, (ugly:1.331), (duplicate:1.331), (morbid:1.21), (mutilated:1.21), (tranny:1.331), mutated hands, (poorly drawn hands:1.5), blurry, (bad anatomy:1.21), (bad proportions:1.331), extra limbs, (disfigured:1.331), (missing arms:1.331), (extra legs:1.331), (fused fingers:1.5), (too many fingers:1.5), (unclear eyes:1.331), lowers, bad hands, missing fingers, extra digit,bad hands, missing fingers, (((extra arms and legs))),</span><br></pre></td></tr></table></figure><h2 id="6-Layer-Diffusion-暂时还不兼容WebUI，笔记停更"><a href="#6-Layer-Diffusion-暂时还不兼容WebUI，笔记停更" class="headerlink" title="6. Layer Diffusion(暂时还不兼容WebUI，笔记停更)"></a><strong>6. Layer Diffusion(暂时还不兼容WebUI，笔记停更)</strong></h2><h3 id="（1）作用"><a href="#（1）作用" class="headerlink" title="（1）作用"></a><strong>（1）作用</strong></h3><p>它可以在 Stable Diffusion 里生成拥有透明背景，且质量极高的PNG图片。和一些借助主体识别实现“智能抠图”的工具不同，它在生成阶段就直接将透明通道的信息加入了运行。</p><p><img src="https://img2.imgtp.com/2024/05/26/WueRoLY6.png" alt="image-20240526142517438"></p><p><img src="https://img2.imgtp.com/2024/05/26/t4VEem9B.png" alt="image-20240526142536922"></p><p><img src="https://img2.imgtp.com/2024/05/26/XphdpE8M.png" alt="image-20240526142601774"></p><h3 id="（2）git安装地址"><a href="#（2）git安装地址" class="headerlink" title="（2）git安装地址"></a><strong>（2）git安装地址</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/layerdiffusion/sd-forge-layerdiffuse.git</span><br></pre></td></tr></table></figure><p>待续~</p><h2 id="7-Tiled-Diffusion（高清放大）"><a href="#7-Tiled-Diffusion（高清放大）" class="headerlink" title="7. Tiled Diffusion（高清放大）"></a><strong>7. Tiled Diffusion（高清放大）</strong></h2><p>秋葉aaak大佬的启动器自带</p><p>效果展示：</p><p><img src="https://img2.imgtp.com/2024/05/26/mUwwlsQu.png" alt="image-20240526145913611"></p><h3 id="（1）实战"><a href="#（1）实战" class="headerlink" title="（1）实战"></a><strong>（1）实战</strong></h3><p>文生图</p><p><img src="https://img2.imgtp.com/2024/05/26/QIfeIt3q.png" alt="image-20240526153116238"></p><p>生成一个满意的图后，进行高清修复，随机种子保持一致</p><p><img src="https://img2.imgtp.com/2024/05/26/DHOwJHs1.png" alt="image-20240526153514367"></p><p>发送图像到 图生图，并开启 MultiDiffusion 和 Tiled VAE</p><p><img src="https://img2.imgtp.com/2024/05/26/oq9xKB3f.png" alt="image-20240526153729639"></p><p>调整参数</p><p>潜空间分块宽度</p><p>放大算法</p><p>放大倍数</p><p>超大分辨率请开启噪声反转，并将重绘幅度调制到0.5</p><p><img src="https://img2.imgtp.com/2024/05/26/XfXA53HF.png" alt="image-20240526154021685"></p><h3 id="（2）Tiled-升级版"><a href="#（2）Tiled-升级版" class="headerlink" title="（2）Tiled 升级版"></a><strong>（2）Tiled 升级版</strong></h3><p>搭配 ControlNet Tile</p><p><img src="https://img2.imgtp.com/2024/05/26/Dsga3RtS.png" alt="image-20240526162627180"></p><p>开启 ControlNet</p><p><img src="https://img2.imgtp.com/2024/05/26/PkbvZYdw.png" alt="image-20240526162717881"></p><p>1K 2K够用了，4K太大，反而出现 扭曲树精，画面怪异等情况</p><p>最后1K结果展示：</p><p><img src="https://img2.imgtp.com/2024/05/26/SViWAysq.png" alt="00005-2734868277"></p><h2 id="8-模型存放位置"><a href="#8-模型存放位置" class="headerlink" title="8. 模型存放位置"></a><strong>8. 模型存放位置</strong></h2><h3 id="（1）1GB以上的大模型"><a href="#（1）1GB以上的大模型" class="headerlink" title="（1）1GB以上的大模型"></a><strong>（1）1GB以上的大模型</strong></h3><img src="https://img2.imgtp.com/2024/05/26/1PRvTDKf.png" alt="image-20240526151223003" style="zoom:200%;" /><p><img src="https://img2.imgtp.com/2024/05/26/hGyaZ1Ce.png" alt="image-20240526151313762"></p><h3 id="（2）LoRA模型"><a href="#（2）LoRA模型" class="headerlink" title="（2）LoRA模型"></a><strong>（2）LoRA模型</strong></h3><p><img src="https://img2.imgtp.com/2024/05/26/qrCw4AZl.png" alt="image-20240526151426542"></p><h3 id="（3）VAE"><a href="#（3）VAE" class="headerlink" title="（3）VAE"></a><strong>（3）VAE</strong></h3><img src="https://img2.imgtp.com/2024/05/26/hgs0b7KB.png" alt="image-20240526151501018" style="zoom:200%;" /><p><img src="https://img2.imgtp.com/2024/05/26/ZbiqZmHX.png" alt="image-20240526151524180"></p><h3 id="（4）ControlNet-模型"><a href="#（4）ControlNet-模型" class="headerlink" title="（4）ControlNet 模型"></a><strong>（4）ControlNet 模型</strong></h3><img src="https://img2.imgtp.com/2024/05/26/R3BMhS4U.png" alt="image-20240526151712571"  /><h2 id="9-ControlNet-进阶"><a href="#9-ControlNet-进阶" class="headerlink" title="9. ControlNet 进阶"></a><strong>9. ControlNet 进阶</strong></h2><h3 id="（1）艺术字"><a href="#（1）艺术字" class="headerlink" title="（1）艺术字"></a><strong>（1）艺术字</strong></h3><p>PPT或PS获得一张文字图</p><p><img src="https://img2.imgtp.com/2024/05/26/9cVY8UJ5.png" alt="屏幕截图 2024-05-26 205215"></p><p>选择模型，填写提示词，调整图片大小</p><p><img src="https://img2.imgtp.com/2024/05/26/K6IKZace.png" alt="image-20240526220103868"></p><p>通用提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">high quality,high resolution,masterpiece,solid background,</span><br></pre></td></tr></table></figure><p>通用反向提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(worst quality:2),(low quality:2),(normal quality:2),lowers,watermark,monochrome,</span><br></pre></td></tr></table></figure><p>启用 ControlNet ,选择 Depth 等更奔放的算法模型，同时<strong>开启完美像素模式</strong></p><p><img src="https://img2.imgtp.com/2024/05/26/tuC2YRW8.png" alt="image-20240526220336044"></p><p>获得满意的图片后，再用Tiled Diffusion高清放大（文生图，图生图都可）</p><p>最终作品：</p><p><img src="https://img2.imgtp.com/2024/05/26/aJgxHZBG.png"></p><p><img src="https://img2.imgtp.com/2024/05/26/ccmxF8kB.png"></p><h3 id="（2）AI二维码"><a href="#（2）AI二维码" class="headerlink" title="（2）AI二维码"></a><strong>（2）AI二维码</strong></h3><p>SD模型：tmndMix</p><p>提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">masterpiece,best quality,looking at viewer,</span><br><span class="line">1girl,solo,smile,sitting,hat,shoulder cutout,braid,dress,brown hair,(closed eyes:1.1),twin braids,blush,long hair,bench,grin,grass,white dress,jewelry,clothing cutout,bangs,necklace,floral print,blurry,hand between legs,blurry background,between legs,bow,facing viewer,breasts,bare shoulders,sun hat,straw hat,day,collarbone,hair bow,short sleeves,feet out of frame,ribbon,brown headwear,on bench,depth of field,park bench,^_^,hair over shoulder,</span><br><span class="line">day,sky,flower field,petals,</span><br></pre></td></tr></table></figure><p>反向提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">badhandv4,EasyNegative,verybadimagenegative_v1.3,(worst quality:2),(low quality:2),(normal quality:2),</span><br></pre></td></tr></table></figure><p>采样算法：Euler a</p><p>迭代步数：50</p><p>分别率 960</p><p>随机种子：3444137032</p><p>ControlNet 0</p><p><img src="https://img2.imgtp.com/2024/05/27/uSsZLSIX.png" alt="image-20240527224042989"></p><p>ControlNet 1</p><p><img src="https://img2.imgtp.com/2024/05/27/VM0JWlgD.png" alt="image-20240527221747773"></p><p>最终产品:</p><p><img src="https://img2.imgtp.com/2024/05/27/Ev9VCLLk.png" alt="最终改进版"></p><h3 id="（3）LineArt"><a href="#（3）LineArt" class="headerlink" title="（3）LineArt"></a><strong>（3）LineArt</strong></h3><p>作用：真人转动漫，动漫转真人，线稿出图。概念出图。</p><h4 id="实战一-星穹铁道-托帕"><a href="#实战一-星穹铁道-托帕" class="headerlink" title="实战一 星穹铁道 托帕"></a><em>实战一 星穹铁道 托帕</em></h4><p>WD 1.4 标签器反推原画关键词</p><p><img src="https://img2.imgtp.com/2024/05/28/OLEFD9MA.png" alt="image-20240528194443116"></p><p>发送到图生图，选择合适的大模型,填写好相关的提示词</p><p>调整图片大小 ，采样方法，迭代步数，尺寸，重绘幅度（建议最大0.5）</p><p><img src="https://img2.imgtp.com/2024/05/28/nAxBIkE7.png" alt="image-20240528224740926"></p><p>ControlNet 选择 lineart，勾选<strong>完美像素模式</strong>，<strong>上传独立的控制图像</strong></p><p>选择合适的预处理器</p><p><img src="https://img2.imgtp.com/2024/05/28/D3R4Gzey.png" alt="image-20240528224920753"></p><p>最终成品：</p><p>原版</p><p><img src="https://img2.imgtp.com/2024/05/28/C0mTDbka.png" alt="托帕 - 副本"></p><p>成品</p><p><img src="https://img2.imgtp.com/2024/05/28/ity6Pxra.png" alt="image (1)"></p><p>成品质量一般，需要搭配其他模型一起使用。</p><h4 id="实战二-ROG雪武战姬"><a href="#实战二-ROG雪武战姬" class="headerlink" title="实战二 ROG雪武战姬"></a><em>实战二 ROG雪武战姬</em></h4><p>模型：</p><img src="AI绘画.assets/image-20240529103825611.png" alt="image-20240529103825611" style="zoom:200%;" /><p>提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1girl, breasts, solo, garter straps, thighhighs, looking at viewer, mecha musume, white hair, headgear, blue eyes, short hair, weapon, full body, gloves, skirt, medium breasts, animal ears, cleavage, boots, white thighhighs, black skirt, holding, bangs, copyright name, large breasts</span><br></pre></td></tr></table></figure><p>反向提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSFW,(worst quality:2),(low quality:2),(normal quality:2),lowres,normal quality,((monochrome)),((grayscale)),skin spots,acnes,skin blemishes,age spot,(ugly:1.331),(duplicate:1.331),(morbid:1.21),(mutilated:1.21),(tranny:1.331),mutated hands,(poorly drawn hands:1.5),blurry,(bad anatomy:1.21),(bad proportions:1.331),extra limbs,(disfigured:1.331),(missing arms:1.331),(extra legs:1.331),(fused fingers:1.5),(too many fingers:1.5),(unclear eyes:1.331),lowers,bad hands,missing fingers,extra digit,bad hands,missing fingers,(((extra arms and legs))),</span><br></pre></td></tr></table></figure><p>参数调整</p><p><img src="https://img2.imgtp.com/2024/05/29/SnkdMbJd.png" alt="image-20240529104158436"></p><p>ControlNet</p><p><img src="https://img2.imgtp.com/2024/05/29/unJYyJgU.png" alt="image-20240529104232667"></p><p>最终成品</p><p><img src="https://img2.imgtp.com/2024/05/29/94FGu6ZN.png" alt="成品2"></p><p><img src="https://img2.imgtp.com/2024/05/29/0MnGOtpB.png" alt="成品1"></p><h3 id="（4）IP-Adapter"><a href="#（4）IP-Adapter" class="headerlink" title="（4）IP-Adapter"></a><strong>（4）IP-Adapter</strong></h3><p>换皮肤</p>]]></content>
      
      
      <categories>
          
          <category> AI绘画学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI绘画 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSM整合 - LibrarySystem</title>
      <link href="/2024/05/22/%E6%9D%82%E8%B0%88/SSM/"/>
      <url>/2024/05/22/%E6%9D%82%E8%B0%88/SSM/</url>
      
        <content type="html"><![CDATA[<h1 id="SSM整合-LibrarySystem"><a href="#SSM整合-LibrarySystem" class="headerlink" title="SSM整合 - LibrarySystem"></a><strong>SSM整合 - LibrarySystem</strong></h1><h2 id="1-搭建基本环境"><a href="#1-搭建基本环境" class="headerlink" title="1. 搭建基本环境"></a><strong>1. 搭建基本环境</strong></h2><h3 id="1-IDEA创建项目"><a href="#1-IDEA创建项目" class="headerlink" title="(1) IDEA创建项目"></a><strong>(1) IDEA创建项目</strong></h3><p>选择使用骨架 maven-archetype-webapp ，创建一个Web 比较常用的骨架，并修改相关信息。</p><p><img src="https://img2.imgtp.com/2024/05/22/EWto7bvm.png" alt="bf0ad6f36bb47b47c9905f2875c956b"></p><h3 id="2-导入JAR包"><a href="#2-导入JAR包" class="headerlink" title="(2) 导入JAR包"></a><strong>(2) 导入JAR包</strong></h3><p>使用maven管理 jar 包，在 pom.xml 加入相应的依赖。注意：如果不使用maven的可以自己去官网下载相应的jar，放到项目WEB-INF&#x2F;lib目录下。</p><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.yuzaoqie<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>LibrarySystem<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>LibrarySystem Maven Webapp<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">file.encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">file.encoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>4.2.2.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.29<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet.version</span>&gt;</span>3.0-alpha-1<span class="tag">&lt;/<span class="name">servlet.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">commons-codec.version</span>&gt;</span>1.9<span class="tag">&lt;/<span class="name">commons-codec.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">commons-dbcp.version</span>&gt;</span>1.4<span class="tag">&lt;/<span class="name">commons-dbcp.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jetty.version</span>&gt;</span>8.1.8.v20121106<span class="tag">&lt;/<span class="name">jetty.version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-dbcp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-dbcp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;commons-dbcp.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.10.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--mybatis-spring适配器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- mybatis ORM框架 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javaee-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mortbay.jetty<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-jetty-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.1.25<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">connectors</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">connector</span> <span class="attr">implementation</span>=<span class="string">&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">port</span>&gt;</span>8080<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">maxIdleTime</span>&gt;</span>60000<span class="tag">&lt;/<span class="name">maxIdleTime</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">connector</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">connectors</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">contextPath</span>&gt;</span>/<span class="tag">&lt;/<span class="name">contextPath</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.19.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">parallel</span>&gt;</span>methods<span class="tag">&lt;/<span class="name">parallel</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">threadCount</span>&gt;</span>10<span class="tag">&lt;/<span class="name">threadCount</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-war-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">webappDirectory</span>&gt;</span>src/main/webapp<span class="tag">&lt;/<span class="name">webappDirectory</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>/var/lib/tomcat9/webapps<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">warName</span>&gt;</span>library<span class="tag">&lt;/<span class="name">warName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-完善目录结构"><a href="#3-完善目录结构" class="headerlink" title="(3) 完善目录结构"></a><strong>(3) 完善目录结构</strong></h3><p><img src="https://img2.imgtp.com/2024/05/22/wlG3cOWz.png" alt="fe7bdbada38db9d089ed75fec183a81"></p><h3 id="4-创建数据库和表"><a href="#4-创建数据库和表" class="headerlink" title="(4) 创建数据库和表"></a><strong>(4) 创建数据库和表</strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE library;</span><br><span class="line">USE library;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> NAMES utf8;</span><br><span class="line"><span class="keyword">START</span> TRANSACTION;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `admin` (</span><br><span class="line">`admin_id` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">`password` <span class="type">VARCHAR</span> ( <span class="number">15</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`username` <span class="type">VARCHAR</span> ( <span class="number">15</span> ) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span></span><br><span class="line">)</span><br><span class="line">ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET <span class="operator">=</span> utf8;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `admin`</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="number">123456</span>, <span class="string">&#x27;123456&#x27;</span>, <span class="string">&#x27;admin&#x27;</span> );</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `book_info` (</span><br><span class="line">`book_id` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">`name` <span class="type">VARCHAR</span> ( <span class="number">20</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`author` <span class="type">VARCHAR</span> ( <span class="number">15</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`publish` <span class="type">VARCHAR</span> ( <span class="number">20</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`ISBN` <span class="type">VARCHAR</span> ( <span class="number">15</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`introduction` text,</span><br><span class="line">`<span class="keyword">language</span>` <span class="type">VARCHAR</span> ( <span class="number">4</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`price` <span class="type">DECIMAL</span> ( <span class="number">10</span>, <span class="number">2</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`pub_date` <span class="type">date</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`class_id` <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`number` <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span></span><br><span class="line">)</span><br><span class="line">ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET <span class="operator">=</span> utf8;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `book_info` MODIFY `book_id` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">AUTO_INCREMENT <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `book_info`</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="number">1</span>, <span class="string">&#x27;罗生门&#x27;</span>, <span class="string">&#x27;芥川龙之介 &#x27;</span>, <span class="string">&#x27;清华大学出版社&#x27;</span>, <span class="string">&#x27;9787530216835&#x27;</span>, <span class="string">&#x27;故事&#x27;</span>, <span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;35.00&#x27;</span>, <span class="string">&#x27;2017-06-01&#x27;</span>, <span class="number">9</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">2</span>, <span class="string">&#x27;斗罗大陆&#x27;</span>, <span class="string">&#x27;唐家三少 &#x27;</span>, <span class="string">&#x27;交通大学出版社&#x27;</span>, <span class="string">&#x27;9787544138000&#x27;</span>, <span class="string">&#x27;故事&#x27;</span>,<span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;26.80&#x27;</span>, <span class="string">&#x27;2009-01-06&#x27;</span>, <span class="number">9</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">3</span>, <span class="string">&#x27;朝花夕拾&#x27;</span>, <span class="string">&#x27;鲁迅&#x27;</span>, <span class="string">&#x27;北京大学出版社&#x27;</span>, <span class="string">&#x27;9787505414709&#x27;</span>, <span class="string">&#x27;故事&#x27;</span>,     <span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;15.00&#x27;</span>, <span class="string">&#x27;2007-04-03&#x27;</span>, <span class="number">9</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">4</span>, <span class="string">&#x27;时间简史&#x27;</span>, <span class="string">&#x27;霍金&#x27;</span>, <span class="string">&#x27;清华大学出版社&#x27;</span>, <span class="string">&#x27;9787539943893&#x27;</span>, <span class="string">&#x27;科学&#x27;</span>,     <span class="string">&#x27;英文&#x27;</span>, <span class="string">&#x27;74.80&#x27;</span>, <span class="string">&#x27;2011-05-05&#x27;</span>, <span class="number">14</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">5</span>, <span class="string">&#x27;明史&#x27;</span>, <span class="string">&#x27;纪晓岚 &#x27;</span>, <span class="string">&#x27;长安出版社&#x27;</span>, <span class="string">&#x27;9787508647357&#x27;</span>, <span class="string">&#x27;历史&#x27;</span>,          <span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;68.00&#x27;</span>, <span class="string">&#x27;2014-11-01&#x27;</span>, <span class="number">11</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">6</span>, <span class="string">&#x27;小时代&#x27;</span>, <span class="string">&#x27;郭敬明 &#x27;</span>, <span class="string">&#x27;沈阳出版社&#x27;</span>, <span class="string">&#x27;9787801656087&#x27;</span>, <span class="string">&#x27;故事&#x27;</span>,        <span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;358.20&#x27;</span>, <span class="string">&#x27;2009-04-06&#x27;</span>, <span class="number">9</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">7</span>, <span class="string">&#x27;国富论&#x27;</span>, <span class="string">&#x27;富兰克林 &#x27;</span>, <span class="string">&#x27;机械出版社&#x27;</span>, <span class="string">&#x27;9787111126768&#x27;</span>, <span class="string">&#x27;科学&#x27;</span>,      <span class="string">&#x27;英文&#x27;</span>, <span class="string">&#x27;88.00&#x27;</span>, <span class="string">&#x27;2003-08-05&#x27;</span>, <span class="number">2</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">8</span>, <span class="string">&#x27;图解天文学&#x27;</span>, <span class="string">&#x27;维纳&#x27;</span>, <span class="string">&#x27;北京出版社&#x27;</span>, <span class="string">&#x27;9787020125265&#x27;</span>, <span class="string">&#x27;科学&#x27;</span>,       <span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;99.80&#x27;</span>, <span class="string">&#x27;2017-04-01&#x27;</span>, <span class="number">14</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">9</span>, <span class="string">&#x27;变形记&#x27;</span>, <span class="string">&#x27;卡夫卡 &#x27;</span>, <span class="string">&#x27;北京大学出版社&#x27;</span>, <span class="string">&#x27;9787550265608&#x27;</span>, <span class="string">&#x27;故事&#x27;</span>,    <span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;60.00&#x27;</span>, <span class="string">&#x27;2016-01-01&#x27;</span>, <span class="number">9</span>, <span class="number">0</span> ),</span><br><span class="line">( <span class="number">10</span>, <span class="string">&#x27;极简美国史&#x27;</span>, <span class="string">&#x27;圆谷要&#x27;</span>, <span class="string">&#x27;清华大学出版社&#x27;</span>, <span class="string">&#x27;9787530216859&#x27;</span>, <span class="string">&#x27;历史&#x27;</span>, <span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;39.50&#x27;</span>, <span class="string">&#x27;2017-06-01&#x27;</span>, <span class="number">11</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">11</span>, <span class="string">&#x27;战争与和平&#x27;</span>, <span class="string">&#x27;托尔斯泰 &#x27;</span>, <span class="string">&#x27;新华出版社&#x27;</span>, <span class="string">&#x27;9787513325745&#x27;</span>, <span class="string">&#x27;故事&#x27;</span>,  <span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;35.00&#x27;</span>, <span class="string">&#x27;2017-05-01&#x27;</span>, <span class="number">9</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">12</span>, <span class="string">&#x27;果壳中的宇宙&#x27;</span>, <span class="string">&#x27;霍金 &#x27;</span>, <span class="string">&#x27;交通大学出版社&#x27;</span>, <span class="string">&#x27;9787807023777&#x27;</span>, <span class="string">&#x27;科学&#x27;</span>, <span class="string">&#x27;英文&#x27;</span>, <span class="string">&#x27;26.00&#x27;</span>, <span class="string">&#x27;2007-01-01&#x27;</span>, <span class="number">14</span>, <span class="number">1</span> ),</span><br><span class="line">( <span class="number">13</span>, <span class="string">&#x27;百年孤独&#x27;</span>, <span class="string">&#x27;马尔克斯 &#x27;</span>, <span class="string">&#x27;新华出版社&#x27;</span>, <span class="string">&#x27;9787501162734&#x27;</span>, <span class="string">&#x27;故事&#x27;</span>,    <span class="string">&#x27;英文&#x27;</span>, <span class="string">&#x27;12.00&#x27;</span>, <span class="string">&#x27;2003-01-01&#x27;</span>, <span class="number">9</span>, <span class="number">0</span> ),</span><br><span class="line">( <span class="number">14</span>, <span class="string">&#x27;天方之经&#x27;</span>, <span class="string">&#x27;王彧 &#x27;</span>, <span class="string">&#x27;长安出版社&#x27;</span>, <span class="string">&#x27;9787550252585&#x27;</span>, <span class="string">&#x27;历史&#x27;</span>,        <span class="string">&#x27;中文&#x27;</span>, <span class="string">&#x27;42.00&#x27;</span>, <span class="string">&#x27;2015-06-01&#x27;</span>, <span class="number">2</span>, <span class="number">1</span> );</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `class_info` (</span><br><span class="line">`class_id` <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">`class_name` <span class="type">VARCHAR</span> ( <span class="number">15</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">)</span><br><span class="line">ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET <span class="operator">=</span> utf8;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `class_info`</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="number">1</span>, <span class="string">&#x27;马克思主义&#x27;</span> ),</span><br><span class="line">( <span class="number">2</span>, <span class="string">&#x27;哲学&#x27;</span> ),</span><br><span class="line">( <span class="number">3</span>, <span class="string">&#x27;社会科学总论&#x27;</span> ),</span><br><span class="line">( <span class="number">4</span>, <span class="string">&#x27;政治法律&#x27;</span> ),</span><br><span class="line">( <span class="number">5</span>, <span class="string">&#x27;军事&#x27;</span> ),</span><br><span class="line">( <span class="number">6</span>, <span class="string">&#x27;经济&#x27;</span> ),</span><br><span class="line">( <span class="number">7</span>, <span class="string">&#x27;文化&#x27;</span> ),</span><br><span class="line">( <span class="number">8</span>, <span class="string">&#x27;语言&#x27;</span> ),</span><br><span class="line">( <span class="number">9</span>, <span class="string">&#x27;文学&#x27;</span> ),</span><br><span class="line">( <span class="number">10</span>, <span class="string">&#x27;艺术&#x27;</span> ),</span><br><span class="line">( <span class="number">11</span>, <span class="string">&#x27;历史地理&#x27;</span> ),</span><br><span class="line">( <span class="number">12</span>, <span class="string">&#x27;自然科学总论&#x27;</span> ),</span><br><span class="line">( <span class="number">13</span>, <span class="string">&#x27; 数理科学和化学&#x27;</span> ),</span><br><span class="line">( <span class="number">14</span>, <span class="string">&#x27;天文学、地球科学&#x27;</span> ),</span><br><span class="line">( <span class="number">15</span>, <span class="string">&#x27;生物科学&#x27;</span> ),</span><br><span class="line">( <span class="number">16</span>, <span class="string">&#x27;医药、卫生&#x27;</span> ),</span><br><span class="line">( <span class="number">17</span>, <span class="string">&#x27;农业科学&#x27;</span> ),</span><br><span class="line">( <span class="number">18</span>, <span class="string">&#x27;工业技术&#x27;</span> ),</span><br><span class="line">( <span class="number">19</span>, <span class="string">&#x27;交通运输&#x27;</span> ),</span><br><span class="line">( <span class="number">20</span>, <span class="string">&#x27;航空、航天&#x27;</span> ),</span><br><span class="line">( <span class="number">21</span>, <span class="string">&#x27;环境科学&#x27;</span> ),</span><br><span class="line">( <span class="number">22</span>, <span class="string">&#x27;综合&#x27;</span> );</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `lend_list` (</span><br><span class="line">`ser_num` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">`book_id` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`reader_id` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`lend_date` <span class="type">date</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`back_date` <span class="type">date</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span></span><br><span class="line">)</span><br><span class="line">ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET <span class="operator">=</span> utf8;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `lend_list` MODIFY `ser_num` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">AUTO_INCREMENT <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `lend_list`</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="number">1</span>, <span class="number">1</span>, <span class="number">10000</span>, <span class="string">&#x27;2023-03-15&#x27;</span>, <span class="string">&#x27;2023-06-16&#x27;</span> ),</span><br><span class="line">( <span class="number">2</span>, <span class="number">2</span>, <span class="number">10001</span>, <span class="string">&#x27;2023-06-10&#x27;</span>, <span class="string">&#x27;2023-09-02&#x27;</span> ),</span><br><span class="line">( <span class="number">3</span>, <span class="number">3</span>, <span class="number">10003</span>, <span class="string">&#x27;2023-06-12&#x27;</span>, <span class="string">&#x27;2023-09-02&#x27;</span> ),</span><br><span class="line">( <span class="number">4</span>, <span class="number">4</span>, <span class="number">10000</span>, <span class="string">&#x27;2023-03-15&#x27;</span>, <span class="string">&#x27;2023-09-03&#x27;</span> ),</span><br><span class="line">( <span class="number">5</span>, <span class="number">5</span>, <span class="number">10002</span>, <span class="string">&#x27;2023-06-15&#x27;</span>, <span class="keyword">NULL</span> ),</span><br><span class="line">( <span class="number">6</span>, <span class="number">6</span>, <span class="number">10000</span>, <span class="string">&#x27;2023-06-15&#x27;</span>, <span class="keyword">NULL</span> ),</span><br><span class="line">( <span class="number">7</span>, <span class="number">1</span>, <span class="number">10001</span>, <span class="string">&#x27;2023-09-02&#x27;</span>, <span class="string">&#x27;2023-09-02&#x27;</span> );</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `reader_info` (</span><br><span class="line">`reader_id` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">`name` <span class="type">VARCHAR</span> ( <span class="number">10</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`sex` <span class="type">VARCHAR</span> ( <span class="number">2</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`birth` <span class="type">date</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span> ( <span class="number">50</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`phone` <span class="type">VARCHAR</span> ( <span class="number">15</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">)</span><br><span class="line">ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET <span class="operator">=</span> utf8;</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `reader_info` MODIFY `reader_id` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  AUTO_INCREMENT <span class="operator">=</span> <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `reader_info` ( NAME, sex, birth, address, phone )</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="string">&#x27;张辽&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;1995-06-10&#x27;</span>, <span class="string">&#x27;河北&#x27;</span>, <span class="string">&#x27;12345678900&#x27;</span> ),</span><br><span class="line">( <span class="string">&#x27;王允&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;1996-02-01&#x27;</span>, <span class="string">&#x27;山西&#x27;</span>, <span class="string">&#x27;12345678909&#x27;</span> ),</span><br><span class="line">( <span class="string">&#x27;王元姬&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;1995-01-21&#x27;</span>, <span class="string">&#x27;陕西&#x27;</span>, <span class="string">&#x27;12345678908&#x27;</span> ),</span><br><span class="line">( <span class="string">&#x27;张春华&#x27;</span>, <span class="string">&#x27;女&#x27;</span>, <span class="string">&#x27;1996-08-29&#x27;</span>, <span class="string">&#x27;山东&#x27;</span>, <span class="string">&#x27;12345678907&#x27;</span> ),</span><br><span class="line">( <span class="string">&#x27;李严&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;1996-12-11&#x27;</span>, <span class="string">&#x27;四川&#x27;</span>, <span class="string">&#x27;15123659875&#x27;</span> ),</span><br><span class="line">( <span class="string">&#x27;李德&#x27;</span>, <span class="string">&#x27;男&#x27;</span>, <span class="string">&#x27;1996-02-21&#x27;</span>, <span class="string">&#x27;云南&#x27;</span>, <span class="string">&#x27;15369874123&#x27;</span> );</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `reader_card` (</span><br><span class="line">`reader_id` <span class="type">BIGINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">`username` <span class="type">VARCHAR</span> ( <span class="number">15</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`password` <span class="type">VARCHAR</span> ( <span class="number">15</span> ) <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line">)</span><br><span class="line">ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET <span class="operator">=</span> utf8;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `reader_card`</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">( <span class="number">10000</span>, <span class="string">&#x27;张辽&#x27;</span>, <span class="string">&#x27;123456&#x27;</span> ),</span><br><span class="line">( <span class="number">10001</span>, <span class="string">&#x27;王允&#x27;</span>, <span class="string">&#x27;123456&#x27;</span> ),</span><br><span class="line">( <span class="number">10002</span>, <span class="string">&#x27;王元姬&#x27;</span>, <span class="string">&#x27;123457&#x27;</span> ),</span><br><span class="line">( <span class="number">10003</span>, <span class="string">&#x27;张春华&#x27;</span>, <span class="string">&#x27;123457&#x27;</span> ),</span><br><span class="line">( <span class="number">10004</span>, <span class="string">&#x27;李严&#x27;</span>, <span class="string">&#x27;123458&#x27;</span> ),</span><br><span class="line">( <span class="number">10005</span>, <span class="string">&#x27;李德&#x27;</span>, <span class="string">&#x27;123458&#x27;</span> );</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br></pre></td></tr></table></figure><h3 id="5-创建实体类"><a href="#5-创建实体类" class="headerlink" title="(5) 创建实体类"></a><strong>(5) 创建实体类</strong></h3><p>根据数据库中的字段创出实体</p><p>图书实体类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuzaoqie.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.math.BigDecimal;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 图书实体类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> book_id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">    <span class="keyword">private</span> String publish;</span><br><span class="line">    <span class="keyword">private</span> String ISBN;</span><br><span class="line">    <span class="keyword">private</span> String introduction;</span><br><span class="line">    <span class="keyword">private</span> String language;</span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line">    <span class="keyword">private</span> Date pub_date;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> class_id;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> number;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getBookId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> book_id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookId</span><span class="params">(<span class="type">long</span> book_id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.book_id = book_id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAuthor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAuthor</span><span class="params">(String author)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPublish</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> publish;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPublish</span><span class="params">(String publish)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.publish = publish;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getIsbn</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ISBN;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setIsbn</span><span class="params">(String isbn)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.ISBN = isbn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getIntroduction</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> introduction;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setIntroduction</span><span class="params">(String introduction)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.introduction = introduction;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getLanguage</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> language;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLanguage</span><span class="params">(String language)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.language = language;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> BigDecimal <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(BigDecimal price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Date <span class="title function_">getPubdate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pub_date;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPubdate</span><span class="params">(Date pub_date)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pub_date = pub_date;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getClassId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> class_id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setClassId</span><span class="params">(<span class="type">int</span> class_id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.class_id = class_id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getNumber</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNumber</span><span class="params">(<span class="type">int</span> number)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>BookDao类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuzaoqie.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.bean.Book;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="comment">// 获取匹配的图书数量</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">matchBook</span><span class="params">(String searchWord)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取匹配的图书列表</span></span><br><span class="line">    List&lt;Book&gt; <span class="title function_">queryBook</span><span class="params">(String searchWord)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取所有图书列表</span></span><br><span class="line">    List&lt;Book&gt; <span class="title function_">getAllBooks</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加图书</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">addBook</span><span class="params">(Book book)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取图书</span></span><br><span class="line">    Book <span class="title function_">getBook</span><span class="params">(<span class="type">long</span> bookId)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 编辑图书</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">editBook</span><span class="params">(Book book)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除图书</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteBook</span><span class="params">(<span class="type">long</span> bookId)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>BookService类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuzaoqie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.bean.Book;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">    <span class="comment">// 获取匹配的图书数量</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">matchBook</span><span class="params">(String searchWord)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取匹配的图书列表</span></span><br><span class="line">    List&lt;Book&gt; <span class="title function_">queryBook</span><span class="params">(String searchWord)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取所有图书列表</span></span><br><span class="line">    List&lt;Book&gt; <span class="title function_">getAllBooks</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加图书</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">addBook</span><span class="params">(Book book)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取图书</span></span><br><span class="line">    Book <span class="title function_">getBook</span><span class="params">(<span class="type">long</span> bookId)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 编辑图书</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">editBook</span><span class="params">(Book book)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除图书</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">deleteBook</span><span class="params">(<span class="type">long</span> bookId)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>BookServiceImpl类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuzaoqie.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.bean.Book;</span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.dao.BookDao;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookDao</span><span class="params">(BookDao bookDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bookDao = bookDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">matchBook</span><span class="params">(String searchWord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.matchBook(searchWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">queryBook</span><span class="params">(String searchWord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.queryBook(searchWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getAllBooks</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.getAllBooks();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.addBook(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Book <span class="title function_">getBook</span><span class="params">(<span class="type">long</span> bookId)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.getBook(bookId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">editBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.editBook(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteBook</span><span class="params">(<span class="type">long</span> bookId)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.deleteBook(bookId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>BookController类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuzaoqie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.service.BookService;</span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.bean.Book;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookController</span> &#123;</span><br><span class="line">    <span class="comment">// 图书服务类</span></span><br><span class="line">    <span class="keyword">private</span> BookService bookService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置图书服务类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookService</span><span class="params">(BookService bookService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bookService = bookService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取匹配的图书数量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">matchBook</span><span class="params">(String searchWord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.matchBook(searchWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取匹配的图书列表</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">queryBook</span><span class="params">(String searchWord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.queryBook(searchWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取所有图书列表</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getAllBooks</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.getAllBooks();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加图书</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.addBook(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取图书</span></span><br><span class="line">    <span class="keyword">public</span> Book <span class="title function_">getBook</span><span class="params">(<span class="type">long</span> bookId)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.getBook(bookId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 编辑图书</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">editBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.editBook(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除图书</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteBook</span><span class="params">(<span class="type">long</span> bookId)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.deleteBook(bookId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>到这里位置，一个基本的环境以及结构就搭建好了，下面就可以开始，编写我们三个框架的代码了，我们选择的方式是，逐个编写，测试无误后，然后进行整合。</p><h2 id="2-Spring-框架代码的编写"><a href="#2-Spring-框架代码的编写" class="headerlink" title="2. Spring 框架代码的编写"></a><strong>2. Spring 框架代码的编写</strong></h2><h3 id="1-创建-applicationContext-xml-配置文件"><a href="#1-创建-applicationContext-xml-配置文件" class="headerlink" title="(1) 创建 applicationContext.xml 配置文件"></a><strong>(1) 创建 applicationContext.xml 配置文件</strong></h3><p>在 resources 创建 applicationContext.xml 文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">   http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">   http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">   http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">   http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">   http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">   http://www.springframework.org/schema/tx</span></span></span><br><span class="line"><span class="string"><span class="tag">   http://www.springframework.org/schema/tx/spring-tx.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 开启注解扫描，处理service和dao，但是不需要处理 controller --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.yuzaoqie&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 配置哪些注解不扫描 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-在ServiceImpl-上增加业务层注解"><a href="#2-在ServiceImpl-上增加业务层注解" class="headerlink" title="(2)  在ServiceImpl 上增加业务层注解"></a><strong>(2)  在ServiceImpl 上增加业务层注解</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuzaoqie.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.bean.Book;</span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.dao.BookDao;</span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.service.BookService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service(&quot;bookService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookDao</span><span class="params">(BookDao bookDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bookDao = bookDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">matchBook</span><span class="params">(String searchWord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.matchBook(searchWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">queryBook</span><span class="params">(String searchWord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.queryBook(searchWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getAllBooks</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.getAllBooks();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.addBook(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Book <span class="title function_">getBook</span><span class="params">(<span class="type">long</span> bookId)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.getBook(bookId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">editBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.editBook(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteBook</span><span class="params">(<span class="type">long</span> bookId)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.deleteBook(bookId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-测试-Spring"><a href="#3-测试-Spring" class="headerlink" title="(3) 测试 Spring"></a><strong>(3) 测试 Spring</strong></h3><p>一套老流程 test 包下简单写测试程序，这里使用的直接是 Junit ，当然还可以配合Spring的单元测试</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.yuzaoqie.service.BookService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSpring</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSpring</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        <span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> (BookService) context.getBean(<span class="string">&quot;bookService&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>并运行 TestSpring</p><h2 id="3-Spring-MVC-框架代码的编写"><a href="#3-Spring-MVC-框架代码的编写" class="headerlink" title="3.Spring MVC 框架代码的编写"></a><strong>3.Spring MVC 框架代码的编写</strong></h2><h3 id="1-配置-Web-xml"><a href="#1-配置-Web-xml" class="headerlink" title="(1) 配置 Web.xml"></a><strong>(1) 配置 Web.xml</strong></h3><p>修改 webapp –&gt; WEB-INF  文件下的 web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 可以添加其他标准子元素 --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 配置前端控制器 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 加载springmvc.xml配置文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 启动服务器，创建该servlet --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 配置过滤器，解决中文乱码 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-创建-springmvc-xml-文件"><a href="#2-创建-springmvc-xml-文件" class="headerlink" title="(2) 创建 springmvc.xml 文件"></a><strong>(2) 创建 springmvc.xml 文件</strong></h3><p>在 resources 创建 springmvc.xml 文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--开启只对controller的扫描--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.yuzaoqie&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:include-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置视图解析器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;org&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--JSP 目录--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--文件后缀--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--不过滤静态资源--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">&quot;/css/**&quot;</span> <span class="attr">location</span>=<span class="string">&quot;/css/&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">&quot;/images/**&quot;</span> <span class="attr">location</span>=<span class="string">&quot;/images/&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">&quot;/js/**&quot;</span> <span class="attr">location</span>=<span class="string">&quot;/js/&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--开启注解支持--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-执行测试"><a href="#3-执行测试" class="headerlink" title="(3) 执行测试"></a><strong>(3) 执行测试</strong></h3><p>给出一个基本的测试方法，打印语句，同时通过视图解析器，跳转到 list_book 页面</p><p>修改 BookController 类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yuzaoqie.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.service.BookService;</span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.bean.Book;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/book&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookController</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/findAll&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;list_book&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 图书服务类</span></span><br><span class="line">    <span class="keyword">private</span> BookService bookService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置图书服务类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookService</span><span class="params">(BookService bookService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bookService = bookService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取匹配的图书数量</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">matchBook</span><span class="params">(String searchWord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.matchBook(searchWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取匹配的图书列表</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">queryBook</span><span class="params">(String searchWord)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.queryBook(searchWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取所有图书列表</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getAllBooks&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getAllBooks</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.getAllBooks();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加图书</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.addBook(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取图书</span></span><br><span class="line">    <span class="keyword">public</span> Book <span class="title function_">getBook</span><span class="params">(<span class="type">long</span> bookId)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.getBook(bookId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 编辑图书</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">editBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.editBook(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 删除图书</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteBook</span><span class="params">(<span class="type">long</span> bookId)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bookService.deleteBook(bookId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在 webapp 文件夹下创建 index.jsp页面</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;主页&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;主页&lt;/h2&gt;</span><br><span class="line">&lt;a href=<span class="string">&quot;book/getAllBooks&quot;</span>&gt;查询所有图书&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p> 在 webapp –&gt; WEB-INF 下创建文件夹 名为 jsp的文件夹，然后创建 list_book.jsp</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;false&quot; %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;查询所有&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h3&gt;恭喜跳转成功，这是查询所有账户页面&lt;/h3&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="4-配置-tomcat"><a href="#4-配置-tomcat" class="headerlink" title="(4) 配置 tomcat"></a><strong>(4) 配置 tomcat</strong></h3><p><img src="https://img2.imgtp.com/2024/05/22/bapCTWD2.png" alt="image-20240522201355216"></p><p><img src="https://img2.imgtp.com/2024/05/22/9FAv2NRQ.png" alt="image-20240522201414310"></p><p><img src="https://img2.imgtp.com/2024/05/22/ycamOsCM.png" alt="image-20240522201506545"></p><p>启动测试结果：</p><p><img src="https://img2.imgtp.com/2024/05/22/vp9UTFVf.png" alt="image-20240522201545122"></p><h2 id="4-spring-整合-spring-MVC"><a href="#4-spring-整合-spring-MVC" class="headerlink" title="4. spring 整合 spring MVC"></a><strong>4. spring 整合 spring MVC</strong></h2><h3 id="1-配置监听器和文件路径"><a href="#1-配置监听器和文件路径" class="headerlink" title="(1) 配置监听器和文件路径"></a><strong>(1) 配置监听器和文件路径</strong></h3><p>在 web.xml 中配置，使得在项目启动的时候，就去加载applicationContext.xml的配置文件</p><p>修改 web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 可以添加其他标准子元素 --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 配置前端控制器 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 加载springmvc.xml配置文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 启动服务器，创建该servlet --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 配置过滤器，解决中文乱码 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--配置 Spring 的监听器--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--设置配置文件路径--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-控制层调用业务层方法"><a href="#2-控制层调用业务层方法" class="headerlink" title="(2) 控制层调用业务层方法"></a><strong>(2) 控制层调用业务层方法</strong></h3><p>如果访问后，可以跳转成功，同时控制台打印出两句话，一句控制层的输出语句，一句业务层的输出语句，这两部分就算整合成功了</p><p><img src="https://img2.imgtp.com/2024/05/22/xkiIhqHA.png" alt="image-20240522223528365"></p><h2 id="5-MyBatis-框架代码编写"><a href="#5-MyBatis-框架代码编写" class="headerlink" title="5. MyBatis 框架代码编写"></a><strong>5. MyBatis 框架代码编写</strong></h2><h3 id="1-创建-SqlMapConfig-xml"><a href="#1-创建-SqlMapConfig-xml" class="headerlink" title="(1) 创建 SqlMapConfig.xml"></a><strong>(1) 创建 SqlMapConfig.xml</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">        PUBLIC <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="line">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;environments <span class="keyword">default</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span><br><span class="line">        &lt;environment id=<span class="string">&quot;mysql&quot;</span>&gt;</span><br><span class="line">            &lt;transactionManager type=<span class="string">&quot;JDBC&quot;</span>&gt;&lt;/transactionManager&gt;</span><br><span class="line">            &lt;dataSource type=<span class="string">&quot;POOLED&quot;</span>&gt;</span><br><span class="line">                &lt;property name=<span class="string">&quot;driver&quot;</span> value=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span><br><span class="line">                &lt;property name=<span class="string">&quot;url&quot;</span> value=<span class="string">&quot;jdbc:mysql:///library&quot;</span>/&gt;</span><br><span class="line">                &lt;property name=<span class="string">&quot;username&quot;</span> value=<span class="string">&quot;root&quot;</span>/&gt;</span><br><span class="line">                &lt;property name=<span class="string">&quot;password&quot;</span> value=<span class="string">&quot;123456&quot;</span>/&gt;</span><br><span class="line">            &lt;/dataSource&gt;</span><br><span class="line">        &lt;/environment&gt;</span><br><span class="line">    &lt;/environments&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--使用注解--&gt;</span><br><span class="line">    &lt;mappers&gt;</span><br><span class="line">        &lt;<span class="keyword">package</span> name=<span class="string">&quot;com.yuzaoqie&quot;</span>/&gt;</span><br><span class="line">    &lt;/mappers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h3 id="2-Dao-层代码编写"><a href="#2-Dao-层代码编写" class="headerlink" title="(2) Dao 层代码编写"></a><strong>(2) Dao 层代码编写</strong></h3><p><img src="https://img2.imgtp.com/2024/05/22/2LTocbqX.png" alt="image-20240522224741194"></p><h3 id="3-测试-MyBatis"><a href="#3-测试-MyBatis" class="headerlink" title="(3) 测试 MyBatis"></a><strong>(3) 测试 MyBatis</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.yuzaoqie.bean.Book;</span><br><span class="line"><span class="keyword">import</span> com.yuzaoqie.dao.BookDao;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestMybatis</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> InputStream inputStream;</span><br><span class="line">    <span class="keyword">private</span> SqlSession sqlSession;</span><br><span class="line">    <span class="keyword">private</span> BookDao accountDao;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        单独测试Mybatis时所用，整合后 SqlMapConfig.xml文件就不再使用了</span></span><br><span class="line"><span class="comment">        配置到 applicationContext.xml</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//加载配置文件</span></span><br><span class="line">        inputStream = Resources.getResourceAsStream(<span class="string">&quot;SqlMapConfig.xml&quot;</span>);</span><br><span class="line">        <span class="comment">// 创建 SqlSessionFactory 对象</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="comment">//创建 SqlSession 对象</span></span><br><span class="line">        sqlSession = factory.openSession();</span><br><span class="line">        accountDao = sqlSession.getMapper(BookDao.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//提交事务</span></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">        inputStream.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">TestFindAll</span><span class="params">()</span>&#123;</span><br><span class="line">        List&lt;Book&gt; books = accountDao.getAllBooks();</span><br><span class="line">        <span class="keyword">for</span> (Book book : books)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;----------------------&quot;</span>);</span><br><span class="line">            System.out.println(book);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-Spring-整合-MyBatis"><a href="#6-Spring-整合-MyBatis" class="headerlink" title="6. Spring 整合 MyBatis"></a><strong>6. Spring 整合 MyBatis</strong></h2><h3 id="1-修改-applicationContext-xml"><a href="#1-修改-applicationContext-xml" class="headerlink" title="(1) 修改 applicationContext.xml"></a><strong>(1) 修改 applicationContext.xml</strong></h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// 待续</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SSM框架 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>+86手机号创建ChatGPT账号</title>
      <link href="/2024/04/29/%E5%B7%A5%E5%85%B7%E5%88%86%E4%BA%AB/GPT%E6%90%AD%E5%BB%BA/"/>
      <url>/2024/04/29/%E5%B7%A5%E5%85%B7%E5%88%86%E4%BA%AB/GPT%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h1 id="1-创建Google邮箱"><a href="#1-创建Google邮箱" class="headerlink" title="1.创建Google邮箱"></a>1.创建Google邮箱</h1><p>点击链接<a href="https://mail.google.com/mail">创建Google邮箱</a></p><p><img src="https://img2.imgtp.com/2024/04/29/tSBYrrr6.png" alt="谷歌邮箱创建"></p><h1 id="2-创建苹果ID"><a href="#2-创建苹果ID" class="headerlink" title="2.创建苹果ID"></a>2.创建苹果ID</h1><p>打开手机微信吗，关注苹果的微信公众号Apple，并按照以下步骤，创建苹果ID。</p><p>第一步：</p><p><img src="https://img2.imgtp.com/2024/04/29/7cyclQie.png"></p><p>第二步：</p><p><img src="https://img2.imgtp.com/2024/04/29/EU19U5nH.png"></p><p>第三步：</p><span class='p red'>注意填写Apple ID时，填写你刚才创建好的谷歌邮箱</span><p><img src="https://img2.imgtp.com/2024/04/29/30XCShTb.png"></p><h1 id="3-注册ChatGPT账号"><a href="#3-注册ChatGPT账号" class="headerlink" title="3.注册ChatGPT账号"></a>3.注册ChatGPT账号</h1><p>使用创建好的Apple ID注册ChatGPT账号，点击链接进入<a href="https://chat.openai.com/chat">ChatGPT官网</a></p><p><img src="https://img2.imgtp.com/2024/04/29/jUVROO7u.png"></p><p>选择使用Apple ID进行注册</p><p><img src="https://img2.imgtp.com/2024/04/29/NGtILooQ.png"></p><h1 id="4-填写验证码"><a href="#4-填写验证码" class="headerlink" title="4.填写验证码"></a>4.填写验证码</h1><p>按照提示，填写相应信息，最后验证邮箱和手机的验证码即可创建好属于自己的ChatGPT账号！</p><h1 id="5-视频教程已更新至B站"><a href="#5-视频教程已更新至B站" class="headerlink" title="5.视频教程已更新至B站"></a>5.视频教程已更新至B站</h1><p>视频教程已更新至B站，点击下方按钮跳转</p><a class="btn-anzhiyu " href="https://www.bilibili.com/video/BV1wr421n7CT/"   title="渝早茄"><span>渝早茄</span></a>]]></content>
      
      
      <categories>
          
          <category> 工具分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ChatGPT </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
